import{s as G,n as O,r as J,i as K}from"../chunks/scheduler.cbe4b7fc.js";import{S as Q,i as W,g as d,s as _,m as z,h as g,j,y as k,c as b,n as M,f as P,k as S,a as D,x as i,z as U,A as X,o as Y}from"../chunks/index.e81f779a.js";import{C as Z}from"../chunks/pocketbase.es.dba0dee3.js";function R(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function V(e,t,l){const p=e.slice();return p[7]=t[l],p}function q(e){let t,l=e[7].body+"",p,h;return{c(){t=d("p"),p=z(l),h=_()},l(o){t=g(o,"P",{});var r=j(t);p=M(r,l),r.forEach(P),h=b(o)},m(o,r){D(o,t,r),i(t,p),D(o,h,r)},p(o,r){r&1&&l!==(l=o[7].body+"")&&Y(p,l)},d(o){o&&(P(t),P(h))}}}function $(e){let t,l,p="Simple Chat App",h,o,r="For learning",B,f,T,u,w,A,C,E,m,F="Post",I,v,H="Read Posts",N,L,x=R(e[0]),a=[];for(let c=0;c<x.length;c+=1)a[c]=q(V(e,x,c));return{c(){t=d("div"),l=d("h1"),l.textContent=p,h=_(),o=d("p"),o.textContent=r,B=_(),f=d("div");for(let c=0;c<a.length;c+=1)a[c].c();T=z("}"),u=_(),w=d("br"),A=_(),C=d("input"),E=_(),m=d("button"),m.textContent=F,I=_(),v=d("button"),v.textContent=H,this.h()},l(c){t=g(c,"DIV",{});var s=j(t);l=g(s,"H1",{"data-svelte-h":!0}),k(l)!=="svelte-199pnpj"&&(l.textContent=p),h=b(s),o=g(s,"P",{"data-svelte-h":!0}),k(o)!=="svelte-gh1fsh"&&(o.textContent=r),B=b(s),f=g(s,"DIV",{class:!0});var n=j(f);for(let y=0;y<a.length;y+=1)a[y].l(n);T=M(n,"}"),n.forEach(P),u=b(s),w=g(s,"BR",{}),A=b(s),C=g(s,"INPUT",{class:!0,type:!0}),E=b(s),m=g(s,"BUTTON",{"data-svelte-h":!0}),k(m)!=="svelte-1yaptw0"&&(m.textContent=F),I=b(s),v=g(s,"BUTTON",{"data-svelte-h":!0}),k(v)!=="svelte-ovmsx8"&&(v.textContent=H),s.forEach(P),this.h()},h(){S(f,"class","textHome svelte-kb0gi7"),S(C,"class","postBox svelte-kb0gi7"),S(C,"type","text")},m(c,s){D(c,t,s),i(t,l),i(t,h),i(t,o),i(t,B),i(t,f);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(f,null);i(f,T),i(t,u),i(t,w),i(t,A),i(t,C),i(t,E),i(t,m),i(t,I),i(t,v),N||(L=[U(C,"change",e[3]),U(m,"click",function(){K(e[2](e[1]))&&e[2](e[1]).apply(this,arguments)}),U(v,"click",e[4])],N=!0)},p(c,[s]){if(e=c,s&1){x=R(e[0]);let n;for(n=0;n<x.length;n+=1){const y=V(e,x,n);a[n]?a[n].p(y,s):(a[n]=q(y),a[n].c(),a[n].m(f,T))}for(;n<a.length;n+=1)a[n].d(1);a.length=x.length}},i:O,o:O,d(c){c&&P(t),X(a,c),N=!1,J(L)}}}function tt(e,t,l){const p=new Z("http://154.27.124.116:8090");let h=[];async function o(){const u=await p.collection("posts").getFullList({sort:"created"});l(0,h=u)}o(),p.collection("posts").subscribe("*",u=>{console.log(u.record),l(0,h=[...h,u.record])});let r="";function B(u){if(typeof u!="string")return null;p.collection("posts").create({recipient:"main",body:u})}return[h,r,B,u=>l(1,r=u.target.value),()=>console.log(h)]}class lt extends Q{constructor(t){super(),W(this,t,tt,$,G,{})}}export{lt as component};
