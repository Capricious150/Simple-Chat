import{s as P,n as y,r as I,e as N,o as W,f as A,h as T}from"../chunks/scheduler.cbe4b7fc.js";import{S as H,i as S,g as f,s as v,h as g,y as k,c as C,k as j,a as c,z as x,f as h}from"../chunks/index.e81f779a.js";import{C as q}from"../chunks/pocketbase.es.dba0dee3.js";import{a as d,g as w}from"../chunks/navigation.108e5c9d.js";import{e as U}from"../chunks/singletons.531d9cca.js";const z=new q("http://154.27.124.116:8090");async function B(r,s){return await z.collection("users").authWithPassword(r,s)}new TextEncoder;function D(r){let s,m="AUTH",a,n,p,o,i,l,b="Test",_,t;return{c(){s=f("h1"),s.textContent=m,a=v(),n=f("input"),p=v(),o=f("input"),i=v(),l=f("button"),l.textContent=b,this.h()},l(e){s=g(e,"H1",{class:!0,"data-svelte-h":!0}),k(s)!=="svelte-1mttc2m"&&(s.textContent=m),a=C(e),n=g(e,"INPUT",{}),p=C(e),o=g(e,"INPUT",{}),i=C(e),l=g(e,"BUTTON",{"data-svelte-h":!0}),k(l)!=="svelte-hmym45"&&(l.textContent=b),this.h()},h(){j(s,"class","svelte-1n2jha3")},m(e,u){c(e,s,u),c(e,a,u),c(e,n,u),c(e,p,u),c(e,o,u),c(e,i,u),c(e,l,u),_||(t=[x(n,"change",r[3]),x(o,"change",r[4]),x(l,"click",r[2])],_=!0)},p:y,i:y,o:y,d(e){e&&(h(s),h(a),h(n),h(p),h(o),h(i),h(l)),_=!1,I(t)}}}function E(r,s,m){let a;N(r,d,t=>m(6,a=t));let n;const p=d.subscribe(t=>n=t);W(()=>{n!=null&&n.token&&(console.log("You're already authed"),w(U+"/home"))});let o="",i="";async function l(){let t=await B(o,i);t.token&&(T(d,a.authed=!0,a),T(d,a.token=t.token,a),w(U+"/home"))}return A(p),[o,i,l,t=>{t.target&&t.target.value&&m(0,o=t.target.value)},t=>{t.target&&t.target.value&&m(1,i=t.target.value)}]}class J extends H{constructor(s){super(),S(this,s,E,D,P,{})}}export{J as component};
